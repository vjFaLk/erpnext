
<div id="signature"></div>

<script type="text/javascript" src="/assets/frappe/js/lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="/assets/frappe/js/frappe/jSignature/libs/jSignature.min.js"></script>
<script>
    $(document).ready(function() {
        $("#signature").jSignature()
    })
</script>

<script>
var $sigdiv = $("#signature")
$sigdiv.jSignature() // inits the jSignature widget.
// after some doodling...
$sigdiv.jSignature("reset") // clears the canvas and rerenders the decor on it.


var datapair = $sigdiv.jSignature("getData") 
//var i = new Image()
//i.src = "data:" + datapair[0] + "," + datapair[1] 

//$(i).appendTo($("#someelement")) // append the image (SVG) to DOM.


</script>

<button id="sign-contract" type="submit" value="Submit">Submit sign</button> <br>
<script>
   
    var $signContract = $("#sign-contract");
    
    $signContract.on("click", function () {
       frappe.call({
            method: "erpnext.crm.doctype.contract.contract.accept_sign",
            args: {
                sign: datapair,
                contract: "_Test Customer 2 - 3",
                },
            freeze: true,
		    freeze_message: __("Sharing..."),
		    callback: function (r) {
			    frappe.msgprint(__(r))
				}
            })
});

</script>